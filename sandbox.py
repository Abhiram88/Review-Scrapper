from flask import Flask, redirect, url_for
import pandas as pd
from flask import render_template, request, jsonify
#from flask_cors import CORS, cross_origin
import requests
from bs4 import BeautifulSoup as bs
from urllib.request import urlopen as uReq
import collections
import copy
from jinja2 import Environment



app = Flask(__name__)
app.jinja_env.add_extension('jinja2.ext.loopcontrols')


di = {'Printed Men Round Neck Grey T-Shirt': 'Lovely product', 'Dwane IDP Running Shoe For Men': 'As described light weight best for rough use goes will with denim and casuals', 'Propel 19 IDP Running Shoes For Men': 'Feeling good with puma.. lets see how it work after a month of use.', 'Dwane IDP Running Shoes For Men': 'As described light weight best for rough use goes will with denim and casuals', 'Watt IDP Running Shoes For Men': 'Nice shoe.....value of money', 'Jane XT IDP Running Shoes For Men': 'Nice product..comfortable', 'Men & Women Printed Ankle Length': 'Nice.', 'Men Solid Ankle Length': 'Nice', 'Men Formal Black Genuine Leather Wallet': "Great wallet at this price point (I bought it at 249), the feel as compared to price is great, the puma logo isn't as shiny as it looks in the picture. It pretty much does everything a wallet should do. It doesn't get puffed up even if you put three cards in it, so it won't mess up your pants when you put it in your back pocket. So if you're buying this at 250/- or less, I would say go for it.", 'Puma Face Mask (Set of 2) IN 5409501 Washable Cloth Mask': ['SuperbREAD MORE', 'Good work Puma India.‚ù§Ô∏èREAD MORE', 'Very good and comfortable niceREAD MORE', 'Awesome, Good fitting n ComfortableREAD MORE', 'Nice and comfortableREAD MORE', 'Good QualityREAD MORE', 'Very inferior quality product. Not recommended. Waste of money.READ MORE', 'Size is very odd.though its mentioned as Free Size it hardly covers face of a person who generally requires L sized mask.Material of the Mask and Stiching are good however.READ MORE', 'Very bad in quality elastic so loose to wearREAD MORE', 'A bit over priced . 3 masks for this rate could have seemed more reasonableREAD MORE', 'I bought it because of brand but it cannot cover your mouth and nose properly and fits very loose. So not usable in current pandemic situation for safety. Overall quality is not good.READ MORE', "Mask is worth for ‚Çπ200 max. Please don't waste your money on this product.READ MORE", 'Bad pair of masksREAD MORE', 'Buy it if your face shape is broadREAD MORE', 'This product is fake and is of extremely low quality.Please dnt buy.READ MORE', 'NiceREAD MORE', 'Quality is good.. Was expecting better from PumaREAD MORE', 'Quality not good  Dont buyREAD MORE', 'Best Mask. Fits perfectly. Universal size.READ MORE', 'Super  (nice product)READ MORE', 'Valuable..READ MORE', 'GoodREAD MORE', 'Nice product üëç delivery on timeREAD MORE', 'Not too goodREAD MORE', 'Nice delivery.... nice product comfortable thanx flipkartREAD MORE', 'Good very smooth cloth.READ MORE', 'OkREAD MORE', 'Size is small (vertically).. not useful.. quality is decent though..READ MORE', 'Very Good Service and comfortable productThanks Flipkart Keep it and go ahead unstoppableREAD MORE', "It's coolREAD MORE", 'Good qualityREAD MORE', 'nice products puma love itüòòüòòREAD MORE', 'Nice product from Puma. It covers your nose and chin effectively and the end strips are extensible. It is washable also. I personally tried different masks since my face is little big but was unhappy. Some were small and some were not comfortable. Thinking to buy another pair of this mask.Thank you Puma üëçREAD MORE', 'Not up to mark quality size n confort not value for money productREAD MORE', 'NiceREAD MORE', 'OkayREAD MORE', 'For waste these must cost of masksREAD MORE', 'Good productREAD MORE', 'Nice productREAD MORE', 'Very niceREAD MORE', 'Looks goodREAD MORE', 'Excellent and very niceREAD MORE', 'Good!READ MORE', 'GoodREAD MORE', 'AwesomeREAD MORE', "If price doesn't matters u,, go for it.READ MORE", "The name we can trust that's PumaREAD MORE", 'GoodREAD MORE', 'worth spending.READ MORE', 'Nice üòçREAD MORE', 'Nice product..I am happy.thanku FlipkartREAD MORE', 'comfortableREAD MORE', 'Nice and goodREAD MORE', 'goodREAD MORE', 'Costly productsREAD MORE', 'Really shattered my expectations!!!! Not up to the mark quality.. If one uses continuous for a hour or two it is really difficult to breath nd one feel suffocatedREAD MORE', 'NiceREAD MORE', 'Not badREAD MORE', 'Not comfortableREAD MORE', 'Very good product. But the price is very highREAD MORE', 'Perfect material perfect size finally a decent reusable maskREAD MORE', 'A mask price more than under garmentsREAD MORE', 'Puma product Is verry Good Quality & Delivery Is Verry Fast Thanku FlipkatREAD MORE', 'Good and Comfortable product puma serviceREAD MORE', 'Value for moneyREAD MORE', 'Very useful product thanks PumaREAD MORE', 'Very goodREAD MORE', 'Puma need to be inserted a nose pin in the mask as there is some gap in the upper portion of the nose.Quality is good not excellent..READ MORE', 'OkREAD MORE', 'Good quality and comfortREAD MORE', 'Very nice Product and comfortableREAD MORE', "I purchased tears marks last week. I'm very happy with my purchase. They used soft cloth for mask and is very comfortable to wear.The packing is very good and safe to order.HIGHLY RECOMMENDEDREAD MORE", 'Excellent 1READ MORE', 'This is cool and comfortableREAD MORE', 'Best productREAD MORE', 'very comfortable value for moneyREAD MORE', 'Cloth used is good. But too big for small facesREAD MORE', 'Wast manyREAD MORE', 'Cloth quality is good. Comfortable for faceREAD MORE', 'Outstanding product....üëåüëåüëåREAD MORE', 'googREAD MORE', 'delivery was quick even considering the covid situationcoming to the product it felt overpriced, the quality of stitching is good but the elastic quality felt poorREAD MORE', 'NiceREAD MORE', 'Good qualityREAD MORE', 'Gud nd the best quality masksREAD MORE', 'Very goodREAD MORE', 'This product is suberb.Love it‚ù§Ô∏èREAD MORE', 'Not badREAD MORE', 'Good qualityREAD MORE', 'Waste of moneyREAD MORE', 'NiceREAD MORE', 'Little big in sizeREAD MORE', 'Quality is nice...but elastic problem can buy itREAD MORE', 'Waste of money...READ MORE', 'Best Quality !!!READ MORE', 'Excellent products..READ MORE', 'Very niceREAD MORE', 'I use product really good quality and comfortableeasy to breathe I recommend to buy the mask.READ MORE', 'Poor quality materialNot for Price justiceREAD MORE', 'Very bad quality üëéREAD MORE', 'I bought it because of brand but it cannot cover your mouth and nose properly and fits very loose. So not usable in current pandemic situation for safety. Overall quality is not good.READ MORE', "Mask is worth for ‚Çπ200 max. Please don't waste your money on this product.READ MORE", 'Bad pair of masksREAD MORE', 'Buy it if your face shape is broadREAD MORE', 'This product is fake and is of extremely low quality.Please dnt buy.READ MORE', 'NiceREAD MORE', 'Quality is good.. Was expecting better from PumaREAD MORE', 'Quality not good  Dont buyREAD MORE', 'Best Mask. Fits perfectly. Universal size.READ MORE', 'Super  (nice product)READ MORE'], 'Running Shoes For Men': 'superb...', 'Emergence Walking Shoes For Men': "this product is too soft but the disadvantage is that it's sole might get damaged if i use it roughly this product is not for rough use so think before bying it bus i am quite happy .", 'Jedi Slip on IDP Walking Shoes For Men': 'Nice sport shoes', 'Echelon V1 IDP Training & Gym Shoes For Men': 'its very decent shoes', 'Men Casual Brown Genuine Leather Wallet': 'super product.', 'Men & Women Ankle Length': 'Nice', 'Men Mid-Calf/Crew': 'Super', 'Men & Women Solid Peds/Footie/No-Show': 'good quality', 'Boys Casual Black Genuine Leather Wallet': 'Nice product', 'Hercules IDP 4.5 Running Shoes For Men': 'superb...', 'Men Black Genuine Leather Wallet': 'V nice', 'Puma Face Mask (2 pcs) WMN 5409901 Washable Cloth Mask': ['Only brand name . Not a proper mask ,not fit for medical useREAD MORE', 'Good product and good material to use itREAD MORE', 'NiceREAD MORE', "They have mentioned it's a free size, but it's not free size and it's very tight when we wear themREAD MORE", 'Small but Comfortable üëåMust buyREAD MORE', 'Must BuyREAD MORE', 'Quality is good but it is not seating properly and moving close to the eyes when I look at downREAD MORE', 'Stripes are  looseREAD MORE', 'Damaged productREAD MORE', 'Very nice product üëåREAD MORE', 'Very costlyREAD MORE', 'Very badREAD MORE', 'NiceREAD MORE', 'Good productREAD MORE', 'Seems just OK. Too tight.READ MORE', 'Waste of money.dont buy itREAD MORE', 'NiceREAD MORE', 'Good productREAD MORE', 'Dont by not camfarteble.READ MORE', 'niceREAD MORE', 'good product Worth for this money but IREAD MORE', 'Awesome mask. Quality is very good. Fitting also very good.READ MORE', 'Best mask I ever have, very soft and comfortable to wareREAD MORE', 'Good than expectedREAD MORE', 'NiceREAD MORE', 'GoodREAD MORE', "It's look grate and its work is also grateREAD MORE", 'NiceREAD MORE', 'Prize is bigREAD MORE', 'GoodREAD MORE', 'Worth product. Love the serviceREAD MORE', 'NiceREAD MORE', 'Useful and best qualityREAD MORE', 'Nice but very smallREAD MORE', "It's very goodREAD MORE", 'Awesome product... Same as shown in the picture..READ MORE', 'Excellent product comparing local mask. Feeling very secure.READ MORE', 'AverageREAD MORE', 'BrilliantREAD MORE', 'superb productREAD MORE', 'Too good qualityREAD MORE', 'Good product n so soft materialREAD MORE', 'Very Nice & Softly,,READ MORE', 'Value for money. Excellent quality product From Puma. Good looking mask.READ MORE', "For quality its OK...if you looking for men's suggest to Skip this article as size is comfortable only for ladies.READ MORE", 'Very costlyREAD MORE', 'Very badREAD MORE', 'NiceREAD MORE', 'Good productREAD MORE', 'Seems just OK. Too tight.READ MORE', 'Waste of money.dont buy itREAD MORE', 'NiceREAD MORE', 'Good productREAD MORE', 'Dont by not camfarteble.READ MORE', 'niceREAD MORE'], 'Winglet II DP Slippers': 'Good&love u puma', 'Tenaz Training & Gym Shoes For Men': 'Nice shoes !! Loved itüî•', 'Clasp IDP Walking Shoes For Men': 'Using it from a month ..so here my review ...well it look stylish, it is lite weight , and the inner pad is completely undamaged even tho i wearing it continuously ,  no damage on the shoes till now.Its is a perfect fit on my feets , I will highly suggest to buy it  but in sale , it get more cheeper that this rate , then you can buy extra 1 thing more- i save aprox. 800 or more in sale.... Negative points are 1. It have very long laces which make it sometime unmanageable2. From sides it l...', 'Echelon V1 IDP Running Shoes For Men': 'its very decent shoes', 'Concave Pro X IDP Running Shoes For Men': 'Lovely oneüòé', 'Skylark Idp Walking Shoes For Men': 'much better then photo. its realy light weight and its orginal puma product and nicely delivered by flipkart.love you flipkart'}


@app.route('/test')
def test():
    dicti = collections.defaultdict(dict)
    s = ""
    titi = collections.defaultdict(dict)
    for i, v in di.items():
        if isinstance(v, list):
            dicti[i] = v
        else:
            dicti[i] = [v]



    for i, v in di.items():
        if isinstance(v, list):
            s+="".join(v)
            titi[i] = [s]
        else:
            titi[i] = [v]
    print(titi)
    '''for i, v in di.items():
        items.append(i)
        if isinstance(v, list):
            for i in v:
                comments.append([i])
        else:
            comments.append([v])'''

    temp_dict = {'Men Formal Black Genuine Leather Wallet': ["Great wallet at this price point (I bought it at 249), the feel as compared to price is great, the puma logo isn't as shiny as it looks in the picture. It pretty much does everything a wallet should do. It doesn't get puffed up even if you put three cards in it, so it won't mess up your pants when you put it in your back pocket. So if you're buying this at 250/- or less, I would say go for it."], 'Puma Face Mask (Set of 2) IN 5409501 Washable Cloth Mask': ['SuperbREAD MORE', 'Good work Puma India.‚ù§Ô∏èREAD MORE', 'Very good and comfortable niceREAD MORE', 'Awesome, Good fitting n ComfortableREAD MORE', 'Nice and comfortableREAD MORE', 'Good QualityREAD MORE', 'Very inferior quality product. Not recommended. Waste of money.READ MORE', 'Size is very odd.though its mentioned as Free Size it hardly covers face of a person who generally requires L sized mask.Material of the Mask and Stiching are good however.READ MORE', 'Very bad in quality elastic so loose to wearREAD MORE']}
    s = ''


    return render_template('sandbox.html', result=titi, name='nike')




if __name__ == '__main__':
   app.run(debug = True)
   #jinja_env = Environment(extensions=['jinja2.ext.loopcontrol'])
   app.jinja_env.add_extension('jinja2.ext.loopcontrols')
